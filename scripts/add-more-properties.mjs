import { drizzle } from "drizzle-orm/mysql2";
import mysql from "mysql2/promise";
import * as schema from "../drizzle/schema.js";

const DATABASE_URL = process.env.DATABASE_URL;

if (!DATABASE_URL) {
  console.error("DATABASE_URL nÃ£o configurada!");
  process.exit(1);
}

async function addProperties() {
  console.log("ğŸ  Adicionando 15 novos imÃ³veis...\n");

  const connection = await mysql.createConnection(DATABASE_URL);
  const db = drizzle(connection, { schema, mode: "default" });

  try {
    await db.insert(schema.properties).values([
      // ALTO PADRÃƒO
      {
        title: "MansÃ£o de Luxo no Park Way",
        description: "MansÃ£o espetacular com 6 suÃ­tes, piscina olÃ­mpica, quadra de tÃªnis, cinema privativo e heliponto. Terreno de 5.000mÂ² com paisagismo assinado.",
        referenceCode: "CDF007",
        propertyType: "casa",
        transactionType: "venda",
        address: "SMPW Quadra 26",
        neighborhood: "Park Way",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "71745-260",
        salePrice: 850000000, // R$ 8.500.000,00
        iptu: 250000,
        bedrooms: 6,
        bathrooms: 8,
        suites: 6,
        parkingSpaces: 8,
        totalArea: 5000,
        builtArea: 1200,
        features: JSON.stringify(["piscina", "churrasqueira", "academia", "sauna", "cinema", "adega", "quadra_tenis", "heliponto", "jardim"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: true,
        published: true,
        metaTitle: "MansÃ£o de Luxo no Park Way - Casa DF",
        metaDescription: "MansÃ£o espetacular com 6 suÃ­tes, piscina olÃ­mpica e heliponto.",
        slug: "mansao-luxo-park-way",
        createdBy: 1,
      },
      {
        title: "Cobertura Premium no Sudoeste",
        description: "Cobertura de 4 suÃ­tes com rooftop completo, piscina privativa, churrasqueira gourmet e vista 360Âº. CondomÃ­nio com infraestrutura completa.",
        referenceCode: "CDF008",
        propertyType: "cobertura",
        transactionType: "venda",
        address: "SQSW 300 Bloco A",
        neighborhood: "Sudoeste",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "70673-601",
        salePrice: 320000000, // R$ 3.200.000,00
        condoFee: 280000,
        iptu: 120000,
        bedrooms: 4,
        bathrooms: 5,
        suites: 4,
        parkingSpaces: 4,
        totalArea: 400,
        builtArea: 350,
        features: JSON.stringify(["piscina", "churrasqueira", "varanda", "elevador", "portaria_24h", "academia", "salao_festas", "rooftop"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: true,
        published: true,
        metaTitle: "Cobertura Premium no Sudoeste - Casa DF",
        metaDescription: "Cobertura de 4 suÃ­tes com rooftop e piscina privativa.",
        slug: "cobertura-premium-sudoeste",
        createdBy: 1,
      },
      {
        title: "Apartamento Moderno no Noroeste",
        description: "Apartamento de 3 suÃ­tes em um dos bairros mais modernos de BrasÃ­lia. Design contemporÃ¢neo, acabamento de primeira e localizaÃ§Ã£o privilegiada.",
        referenceCode: "CDF009",
        propertyType: "apartamento",
        transactionType: "venda",
        address: "SQNW 108 Bloco C",
        neighborhood: "Noroeste",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "70687-830",
        salePrice: 195000000, // R$ 1.950.000,00
        condoFee: 180000,
        iptu: 70000,
        bedrooms: 3,
        bathrooms: 4,
        suites: 3,
        parkingSpaces: 3,
        totalArea: 150,
        builtArea: 135,
        features: JSON.stringify(["piscina", "academia", "salao_festas", "portaria_24h", "elevador", "varanda", "bicicletario"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: true,
        published: true,
        metaTitle: "Apartamento Moderno no Noroeste - Casa DF",
        metaDescription: "Apartamento de 3 suÃ­tes no bairro mais moderno de BrasÃ­lia.",
        slug: "apartamento-moderno-noroeste",
        createdBy: 1,
      },

      // MÃ‰DIO PADRÃƒO
      {
        title: "Casa ConfortÃ¡vel em Vicente Pires",
        description: "Casa de 3 quartos em condomÃ­nio fechado, com quintal e Ã¡rea gourmet. Ã“tima localizaÃ§Ã£o prÃ³ximo a escolas e comÃ©rcio.",
        referenceCode: "CDF010",
        propertyType: "casa",
        transactionType: "venda",
        address: "Rua 8 Norte Lote 15",
        neighborhood: "Vicente Pires",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "72007-580",
        salePrice: 65000000, // R$ 650.000,00
        condoFee: 35000,
        iptu: 25000,
        bedrooms: 3,
        bathrooms: 2,
        suites: 1,
        parkingSpaces: 2,
        totalArea: 200,
        builtArea: 140,
        features: JSON.stringify(["churrasqueira", "quintal", "portaria_24h", "playground"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Casa ConfortÃ¡vel em Vicente Pires - Casa DF",
        metaDescription: "Casa de 3 quartos em condomÃ­nio fechado em Vicente Pires.",
        slug: "casa-confortavel-vicente-pires",
        createdBy: 1,
      },
      {
        title: "Apartamento Familiar na Asa Norte",
        description: "Apartamento de 3 quartos em superquadra arborizada. PrÃ³ximo ao comÃ©rcio local, escolas e hospitais. Ã“tima opÃ§Ã£o para famÃ­lias.",
        referenceCode: "CDF011",
        propertyType: "apartamento",
        transactionType: "venda",
        address: "SQN 412 Bloco D",
        neighborhood: "Asa Norte",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "70867-040",
        salePrice: 78000000, // R$ 780.000,00
        condoFee: 65000,
        iptu: 30000,
        bedrooms: 3,
        bathrooms: 2,
        suites: 1,
        parkingSpaces: 1,
        totalArea: 90,
        builtArea: 85,
        features: JSON.stringify(["elevador", "portaria_24h", "playground"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Apartamento Familiar na Asa Norte - Casa DF",
        metaDescription: "Apartamento de 3 quartos em superquadra arborizada.",
        slug: "apartamento-familiar-asa-norte",
        createdBy: 1,
      },
      {
        title: "Casa Geminada em Sobradinho",
        description: "Casa geminada de 2 quartos, sala, cozinha e Ã¡rea de serviÃ§o. Quintal pequeno e garagem coberta. Ã“timo custo-benefÃ­cio.",
        referenceCode: "CDF012",
        propertyType: "casa",
        transactionType: "venda",
        address: "Quadra 15 Conjunto A Casa 10",
        neighborhood: "Sobradinho",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "73010-150",
        salePrice: 32000000, // R$ 320.000,00
        iptu: 12000,
        bedrooms: 2,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 1,
        totalArea: 150,
        builtArea: 80,
        features: JSON.stringify(["quintal", "garagem"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Casa Geminada em Sobradinho - Casa DF",
        metaDescription: "Casa geminada de 2 quartos com Ã³timo custo-benefÃ­cio.",
        slug: "casa-geminada-sobradinho",
        createdBy: 1,
      },

      // LOCAÃ‡ÃƒO
      {
        title: "Apartamento para Alugar em Ãguas Claras",
        description: "Apartamento de 2 quartos prÃ³ximo ao metrÃ´. Ideal para jovens profissionais. CondomÃ­nio com piscina e academia.",
        referenceCode: "CDF013",
        propertyType: "apartamento",
        transactionType: "locacao",
        address: "Rua das Aroeiras Bloco 5",
        neighborhood: "Ãguas Claras",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "71908-540",
        rentPrice: 280000, // R$ 2.800,00/mÃªs
        condoFee: 38000,
        iptu: 12000,
        bedrooms: 2,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 1,
        totalArea: 55,
        builtArea: 50,
        features: JSON.stringify(["piscina", "academia", "elevador", "portaria_24h"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Apartamento para Alugar em Ãguas Claras - Casa DF",
        metaDescription: "Apartamento de 2 quartos prÃ³ximo ao metrÃ´.",
        slug: "apartamento-alugar-aguas-claras",
        createdBy: 1,
      },
      {
        title: "Kitnet Mobiliada no Sudoeste",
        description: "Kitnet mobiliada e equipada, pronta para morar. Ideal para estudantes ou profissionais. CondomÃ­nio com seguranÃ§a 24h.",
        referenceCode: "CDF014",
        propertyType: "apartamento",
        transactionType: "locacao",
        address: "SQSW 304 Bloco B",
        neighborhood: "Sudoeste",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "70673-402",
        rentPrice: 180000, // R$ 1.800,00/mÃªs
        condoFee: 25000,
        iptu: 8000,
        bedrooms: 1,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 0,
        totalArea: 30,
        builtArea: 28,
        features: JSON.stringify(["elevador", "portaria_24h"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Kitnet Mobiliada no Sudoeste - Casa DF",
        metaDescription: "Kitnet mobiliada e equipada, pronta para morar.",
        slug: "kitnet-mobiliada-sudoeste",
        createdBy: 1,
      },
      {
        title: "Casa para Alugar em Planaltina",
        description: "Casa de 3 quartos com quintal amplo. Ã“tima para famÃ­lias. PrÃ³ximo a escolas e comÃ©rcio local.",
        referenceCode: "CDF015",
        propertyType: "casa",
        transactionType: "locacao",
        address: "Setor Tradicional Quadra 8",
        neighborhood: "Planaltina",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "73310-108",
        rentPrice: 220000, // R$ 2.200,00/mÃªs
        iptu: 10000,
        bedrooms: 3,
        bathrooms: 2,
        suites: 0,
        parkingSpaces: 2,
        totalArea: 180,
        builtArea: 100,
        features: JSON.stringify(["quintal", "garagem"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Casa para Alugar em Planaltina - Casa DF",
        metaDescription: "Casa de 3 quartos com quintal amplo em Planaltina.",
        slug: "casa-alugar-planaltina",
        createdBy: 1,
      },

      // POPULAR
      {
        title: "Apartamento EconÃ´mico em Samambaia",
        description: "Apartamento de 2 quartos em Ã³timo estado. CondomÃ­nio organizado e seguro. PrÃ³ximo a transporte pÃºblico.",
        referenceCode: "CDF016",
        propertyType: "apartamento",
        transactionType: "venda",
        address: "QN 412 Conjunto 5",
        neighborhood: "Samambaia",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "72316-405",
        salePrice: 18000000, // R$ 180.000,00
        condoFee: 18000,
        iptu: 6000,
        bedrooms: 2,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 1,
        totalArea: 45,
        builtArea: 42,
        features: JSON.stringify(["portaria_24h", "playground"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Apartamento EconÃ´mico em Samambaia - Casa DF",
        metaDescription: "Apartamento de 2 quartos com Ã³timo custo-benefÃ­cio.",
        slug: "apartamento-economico-samambaia",
        createdBy: 1,
      },
      {
        title: "Casa Simples em CeilÃ¢ndia",
        description: "Casa de 2 quartos, sala, cozinha e banheiro. Quintal nos fundos. Ã“tima oportunidade para primeira casa prÃ³pria.",
        referenceCode: "CDF017",
        propertyType: "casa",
        transactionType: "venda",
        address: "QNM 28 Conjunto M Casa 15",
        neighborhood: "CeilÃ¢ndia",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "72215-280",
        salePrice: 22000000, // R$ 220.000,00
        iptu: 8000,
        bedrooms: 2,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 1,
        totalArea: 120,
        builtArea: 60,
        features: JSON.stringify(["quintal"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Casa Simples em CeilÃ¢ndia - Casa DF",
        metaDescription: "Casa de 2 quartos, Ã³tima oportunidade para primeira casa.",
        slug: "casa-simples-ceilandia",
        createdBy: 1,
      },
      {
        title: "Apartamento para Alugar em Santa Maria",
        description: "Apartamento de 2 quartos em bom estado. CondomÃ­nio com Ã¡rea de lazer. PrÃ³ximo a escolas e supermercados.",
        referenceCode: "CDF018",
        propertyType: "apartamento",
        transactionType: "locacao",
        address: "Quadra 215 Conjunto A",
        neighborhood: "Santa Maria",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "72549-215",
        rentPrice: 150000, // R$ 1.500,00/mÃªs
        condoFee: 15000,
        iptu: 5000,
        bedrooms: 2,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 1,
        totalArea: 50,
        builtArea: 48,
        features: JSON.stringify(["portaria_24h", "playground"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Apartamento para Alugar em Santa Maria - Casa DF",
        metaDescription: "Apartamento de 2 quartos em Santa Maria.",
        slug: "apartamento-alugar-santa-maria",
        createdBy: 1,
      },

      // COMERCIAL
      {
        title: "Sala Comercial no Setor Comercial Sul",
        description: "Sala comercial de 40mÂ² em edifÃ­cio moderno. Ideal para escritÃ³rios, consultÃ³rios ou pequenas empresas. LocalizaÃ§Ã£o privilegiada.",
        referenceCode: "CDF019",
        propertyType: "comercial",
        transactionType: "locacao",
        address: "SCS Quadra 2 Bloco C Sala 305",
        neighborhood: "Asa Sul",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "70302-908",
        rentPrice: 320000, // R$ 3.200,00/mÃªs
        condoFee: 45000,
        iptu: 18000,
        bedrooms: 0,
        bathrooms: 1,
        suites: 0,
        parkingSpaces: 1,
        totalArea: 40,
        builtArea: 40,
        features: JSON.stringify(["elevador", "portaria_24h", "ar_condicionado"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Sala Comercial no Setor Comercial Sul - Casa DF",
        metaDescription: "Sala comercial de 40mÂ² em edifÃ­cio moderno.",
        slug: "sala-comercial-scs",
        createdBy: 1,
      },
      {
        title: "Loja TÃ©rrea em Taguatinga Centro",
        description: "Loja de 80mÂ² em ponto comercial movimentado. Ã“tima visibilidade e fluxo de pessoas. Ideal para comÃ©rcio varejista.",
        referenceCode: "CDF020",
        propertyType: "comercial",
        transactionType: "locacao",
        address: "Avenida Central Loja 15",
        neighborhood: "Taguatinga",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "72010-020",
        rentPrice: 550000, // R$ 5.500,00/mÃªs
        condoFee: 80000,
        iptu: 30000,
        bedrooms: 0,
        bathrooms: 2,
        suites: 0,
        parkingSpaces: 2,
        totalArea: 80,
        builtArea: 80,
        features: JSON.stringify(["vitrine", "banheiro", "deposito"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "Loja TÃ©rrea em Taguatinga Centro - Casa DF",
        metaDescription: "Loja de 80mÂ² em ponto comercial movimentado.",
        slug: "loja-terrea-taguatinga-centro",
        createdBy: 1,
      },
      {
        title: "GalpÃ£o Industrial em Santa Maria",
        description: "GalpÃ£o de 500mÂ² com pÃ© direito alto, portÃ£o para caminhÃ£o e escritÃ³rio. Ideal para indÃºstria, logÃ­stica ou depÃ³sito.",
        referenceCode: "CDF021",
        propertyType: "comercial",
        transactionType: "locacao",
        address: "Ãrea Industrial Quadra 10",
        neighborhood: "Santa Maria",
        city: "BrasÃ­lia",
        state: "DF",
        zipCode: "72549-010",
        rentPrice: 800000, // R$ 8.000,00/mÃªs
        iptu: 50000,
        bedrooms: 0,
        bathrooms: 2,
        suites: 0,
        parkingSpaces: 5,
        totalArea: 500,
        builtArea: 500,
        features: JSON.stringify(["portao_caminhao", "escritorio", "banheiro", "estacionamento"]),
        images: JSON.stringify([
          "https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=1200&h=800&fit=crop",
        ]),
        mainImage: "https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=1200&h=800&fit=crop",
        status: "disponivel",
        featured: false,
        published: true,
        metaTitle: "GalpÃ£o Industrial em Santa Maria - Casa DF",
        metaDescription: "GalpÃ£o de 500mÂ² ideal para indÃºstria e logÃ­stica.",
        slug: "galpao-industrial-santa-maria",
        createdBy: 1,
      },
    ]).onDuplicateKeyUpdate({ set: { title: schema.properties.title } });

    console.log("âœ… 15 novos imÃ³veis adicionados com sucesso!");
    console.log("\nğŸ“Š Resumo dos novos imÃ³veis:");
    console.log("   - 3 imÃ³veis de alto padrÃ£o (Park Way, Sudoeste, Noroeste)");
    console.log("   - 3 imÃ³veis de mÃ©dio padrÃ£o (Vicente Pires, Asa Norte, Sobradinho)");
    console.log("   - 3 imÃ³veis para locaÃ§Ã£o (Ãguas Claras, Sudoeste, Planaltina)");
    console.log("   - 3 imÃ³veis populares (Samambaia, CeilÃ¢ndia, Santa Maria)");
    console.log("   - 3 imÃ³veis comerciais (SCS, Taguatinga, Santa Maria)");
    console.log("\nğŸ‰ Total de imÃ³veis no banco: 21\n");

  } catch (error) {
    console.error("âŒ Erro ao adicionar imÃ³veis:", error);
    throw error;
  } finally {
    await connection.end();
  }
}

addProperties()
  .then(() => {
    console.log("âœ… Processo finalizado");
    process.exit(0);
  })
  .catch((error) => {
    console.error("âŒ Erro fatal:", error);
    process.exit(1);
  });
